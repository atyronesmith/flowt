# Example

This diretory contains an OVN nb and sb database and files
generated by programs in this project.

## Files

- ovnnb_db.db -- Northbound database
- ovnsb_db.db -- Southbound database
- ../pkg/dbtypes/ovn_northbound.go -- Go structures to match NB schema
- ../pkg/dbtypes/ovn_southbound.go -- Go structures to match SB schema
- ovn_nortbound.json -- NB DB data as pretty JSON
- ovn_southbound.json -- SB DB data as pretty JSON
- ovn_northbound.dot -- Dot format Graphviz file of NB schema
- ovn_southbound.dot -- Dot format Graphviz file of SB schema
- ovn_northbound.sh -- Shell script of commands to generate NB database
- ovn_northbound.svg -- SVG file of northbound database
- ovn_southbound.svg -- SVG file of southbound database

## Sample Output

```text
[kni@rhos-nfv-01 flowt]$ go run cmd/db/main.go -v -o example example/ovnnb_db.db  
Date                     54342-12-25 11:42:40 +0000 UTC
Comment                  "ovn-northd"
IsDiff                   true
ACL                      59
AddressSet               0
BFD                      0
Connection               1
Copp                     0
DHCPOptions              3
DNS                      0
ForwardingGroup          0
GatewayChassis           2
HAChassis                1
HAChassisGroup           1
LoadBalancer             0
LoadBalancerGroup        0
LoadBalancerHealthCheck  0  
LogicalRouter            2
LogicalRouterPolicy      0
LogicalRouterPort        4
LogicalRouterStaticRoute 3
LogicalSwitch            6
                         neutron-d8953248-ba41-4ef4-b7a3-471afed8fd8f    3 Ports
                         neutron-a6e858b0-c295-41d4-8ff4-858c18695d0c    3 Ports
                         neutron-71f14623-55d2-4ad3-930a-eb41e74499ad   16 Ports
                         neutron-82e03259-6310-4b9d-9575-7f07d613ce09    5 Ports
                         neutron-496db99d-97cc-4d52-ab60-2d1386d3626c    2 Ports
                         neutron-561990d3-f4d5-431d-ae92-a85b83f4f570    5 Ports
LogicalSwitchPort        24 0 VMs, 4 Routers, 6 LPorts, 3 LNets
Meter                    0
MeterBand                0
NAT                      7
                         dnat_and_snat    5
                                  snat    2
Global                   1
PortGroup                6
QoS                      0
SSL                      0
```

```text
[kni@rhos-nfv-01 flowt]$ go run cmd/db/main.go -v -o example example/ovnsb_db.db  
Date            54342-12-27 02:08:53 +0000 UTC                         
Comment         compacting database online                       
IsDiff          true                         
AddressSet      9
BFD             0
Chassis         2            
                         sos-novacompute-0.localdomain            
                         controller-0.localdomain
ChassisPrivate  2
Connection      1
ControllerEvent 0
DHCPOptions     37
DHCPv6Options   4
DNS             0
DatapathBinding 6
Encap           2
FDB             0
GatewayChassis  0
HAChassis       1
HAChassisGroup  1
IGMPGroup       0
IPMulticast     5
LoadBalancer    0
LogicalDPGroup  4
LogicalFlow     339
MACBinding      1
Meter           0
MeterBand       0
MulticastGroup  18
PortBinding     17
PortGroup       8
RBACPermission  9
RBACRole        1
SBGlobal        1
SSL             0
ServiceMonitor  0
```
